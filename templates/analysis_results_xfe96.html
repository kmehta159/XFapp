<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <!--Material Icons CSS-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <!--Jquery minified CDN-->
    <script src="https://code.jquery.com/jquery-3.4.0.min.js"
            integrity="sha256-BJeo0qm959uMBGb65z40ejJYGSgR7REI4+CW1fNKwOg=" crossorigin="anonymous"></script>

    <title>{{title}}</title>

    <style>
    ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
    overflow: hidden;
    background-color: #333;
    }

    li {
    float: left;
    }

    li a {
    display: block;
    color: white;
    text-align: center;
    padding: 14px 16px;
    text-decoration: none;
    }

    li a:hover {
    background-color: #111;
    }

    </style>
</head>
<body class="">

{% load static %}
<head>
<style>
table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}
th.rotate {
  /* Something you can count on */
  height: 70px;
  white-space: nowrap;
}

th.rotate > div {
  transform:
    /* Magic Numbers */
    translate(25px, 51px)
    /* 45 is really 360 - 45 */
    rotate(270deg);
  width: 10px;
}
th.rotate > div > span {
  border-bottom: 0px solid #ccc;
  padding: 1px 2px;
}
</style>
</head>


<table style="width:100%" cellpadding="3" cellspacing="0" align="center">
    <tr>
        <td colspan="5" style = "width: 100px; height: 50px" > <img src = "{% static 'tools/AG_logo.jpg' %}" style="max-height:200%; max-width:500%"/> </td>
        <th colspan="5" style="text-align:right">Form XFe96 Biological QC Data Sheet<br>Doc.# SBS-1201-703</th>
    </tr>
    <tr>
        <th colspan="2" style="text-align:center">Instrument S/N: {{inst_number.0}} <br></th>
        <th colspan="2" style="text-align:center">Instrument Type: {{inst_type.0}}</th>

        <td> <b>Software Version: </b> {{software_version.0}}</td>
        <th>Date received:</th>
        <td><textarea></textarea></td>
        <th>Date passed:</th>
        <td colspan="2" style="text-align:center"><textarea></textarea></td>

    </tr>
    <tr>
        <th></th>
        <th colspan="3" style="text-align:center; color: red; font-size: 20px">Media Run</th>
        <th colspan="3" style="text-align:center; color: red; font-size: 20px">Long Baseline</th>
        <th colspan="3" style="text-align:center; color: red; font-size: 20px">Stress Test</th>
    </tr>
    <tr>
        <td></td>
        <td colspan="3" style="text-align:left"><b>File name: </b> {{mr_filename.0}} <br> <b>Cartridge L/N & S/N: </b> {{mr_cart_lot_number.0}}/{{mr_cart_serial_number.0}}</td>
        <td colspan="3" style="text-align:left"><b>File name: </b> {{lb_filename.0}} <br> <b>Cartridge L/N & S/N: </b> {{lb_cart_lot_number.0}}/{{lb_cart_serial_number.0}}</td>
        <td colspan="3" style="text-align:left"><b>File name: </b> {{st_filename.0}} <br> <b>Cartridge L/N & S/N: </b> {{st_cart_lot_number.0}}/{{st_cart_serial_number.0}}</td>

    </tr>
    <tr>
        <td></td>
        <td style="text-align:center">Criteria</td>
        <td style="text-align:center">Records</td>
        <td style="text-align:center">Result</td>
        <td style="text-align:center">Criteria</td>
        <td style="text-align:center">Records</td>
        <td style="text-align:center">Result</td>
        <td style="text-align:center">Criteria</td>
        <td style="text-align:center">Records</td>
        <td style="text-align:center">Result</td>
    </tr>
    <tr>
        <th class="rotate" rowspan="2"><div><span>Calibration</span></div></th>
        <td><b>O2 LED:</b>
                    <br>>1000 & <30000,
                    <br>< 2x of Avg.
                    <br><b>Ref Delta:</b>
                    <br>< 2x of Avg.
        </td>
        <td>
            <b>O2 LED:</b> <br>Avg: {{mr_avg_o2_led}} <br>Min: {{mr_min_o2_led}} <br>Max: {{mr_max_o2_led}}  <br>
            <b>O2 Ref:</b> <br>Avg: {{mr_avg_o2_ref}} <br>Min: {{mr_min_o2_ref}} <br>Max: {{mr_max_o2_ref}}
        </td>
        <td>{{mr_o2_led_result}} <br><textarea></textarea></td>

        <td><b>O2 LED:</b>
            <br>>1000 & <30000,
            <br>< 2x of Avg.
            <br><b>Ref Delta:</b>
            <br>< 2x of Avg.
        </td>
        <td>
            <b>O2 LED:</b> <br>Avg: {{lb_avg_o2_led}} <br>Min: {{lb_min_o2_led}} <br>Max: {{lb_max_o2_led}}  <br>
            <b>O2 Ref:</b> <br>Avg: {{lb_avg_o2_ref}} <br>Min: {{lb_min_o2_ref}} <br>Max: {{lb_max_o2_ref}}
        </td>
        <td>{{lb_o2_led_result}} <br><textarea></textarea></td>


        <td><b>O2 LED:</b>
                    <br>>1000 & <30000,
                    <br>< 2x of Avg.
                    <br><b>Ref Delta:</b>
                    <br>< 2x of Avg.
        </td>
        <td>
            <b>O2 LED:</b> <br>Avg: {{st_avg_o2_led}} <br>Min: {{st_min_o2_led}} <br>Max: {{st_max_o2_led}}  <br>
            <b>O2 Ref:</b> <br>Avg: {{st_avg_o2_ref}} <br>Min: {{st_min_o2_ref}} <br>Max: {{st_max_o2_ref}}
        </td>
        <td>{{st_o2_led_result}} <br><textarea></textarea></td>

    </tr>

    <tr>
        <td><b>pH LED:</b>
                    <br>>1000 & <30000,
                    <br>< 2x of Avg.
                    <br><b>Ref Delta:</b>
                    <br>< 2x of Avg.
        </td>
        <td>
            <b>pH LED:</b> <br>Avg: {{mr_avg_ph_led}} <br>Min: {{mr_min_ph_led}} <br>Max: {{mr_max_ph_led}}  <br>
            <b>pH Ref:</b> <br>Avg: {{mr_avg_ph_ref}} <br>Min: {{mr_min_ph_ref}} <br>Max: {{mr_max_ph_ref}}
        </td>
        <td>{{mr_ph_led_result}} <br><textarea></textarea></td>
        <td><b>pH LED:</b>
                    <br>>1000 & <30000,
                    <br>< 2x of Avg.
                    <br><b>Ref Delta:</b>
                    <br>< 2x of Avg.
        </td>
        <td>
            <b>pH LED:</b> <br>Avg: {{lb_avg_ph_led}} <br>Min: {{lb_min_ph_led}} <br>Max: {{lb_max_ph_led}}  <br>
            <b>pH Ref:</b> <br>Avg: {{lb_avg_ph_ref}} <br>Min: {{lb_min_ph_ref}} <br>Max: {{lb_max_ph_ref}}
        </td>
        <td>{{lb_ph_led_result}} <br><textarea></textarea></td>
        <td><b>pH LED:</b>
                    <br>>1000 & <30000,
                    <br>< 2x of Avg.
                    <br><b>Ref Delta:</b>
                    <br>< 2x of Avg.
        </td>
        <td>
            <b>pH LED:</b> <br>Avg: {{st_avg_ph_led}} <br>Min: {{st_min_ph_led}} <br>Max: {{st_max_ph_led}}  <br>
            <b>pH Ref:</b> <br>Avg: {{st_avg_ph_ref}} <br>Min: {{st_min_ph_ref}} <br>Max: {{st_max_ph_ref}}
        </td>
        <td>{{st_ph_led_result}} <br><textarea></textarea></td>

    </tr>
    <tr>
        <th class="rotate" rowspan="2" ><div><span>Rates</span></div></th>
        <td><b>OCR:</b>
                    <br>Range(at Meas-3):
                    <br>>-20 & <20
        </td>
        <td>
            <b>OCR Range:</b> {{mr_ocr_range}}
            <br><b>OCR Outliers:</b> {{mr_ocr_outliers}}
        </td>
        <td>{{mr_ocr_result}} <br><textarea></textarea></td>
        <td><b>OCR:</b>
                    <br>Meas-3 range: 50-300pmol/min
                    <br>Meas-3 %CV: <20%
                    <br>Meas-3 to 6 drift: < 20%
        </td>
        <td>
            <b>OCR:</b> <br>Mean: {{lb_mean_ocr}} <br>StD: {{lb_std_ocr}} <br>%CV: {{lb_cv_ocr}}% <br>
            <b>OCR Outliers:</b><br> {{lb_ocr_outliers}}
        </td>
        <td>{{lb_ocr_result}} <br><textarea></textarea></td>
        <td><b>OCR:</b>
                    <br>Meas-3 range: 50-300pmol/min
                    <br>Meas-3 %CV: <20%
        </td>
        <td>
            <b>OCR:</b> <br>Mean: {{st_mean_ocr}} <br>StD: {{st_std_ocr}} <br>%CV: {{st_cv_ocr}}% <br>
            <b>OCR Outliers:</b> <br>{{st_ocr_outliers}}<br>
            <b>Inj Outliers:</b>
        </td>
        <td>{{st_ocr_result}} <br><textarea></textarea></td>

    </tr>
    <tr>
        <td><b>ECAR:</b>
                    <br>Range(at Meas-3):
                    <br>>-5 & <5
        </td>
        <td>
            <b>ECAR Range:</b> {{mr_ecar_range}}
            <br><b>ECAR Outliers:</b> {{mr_ecar_outliers}}
        </td>
        <td>{{mr_ecar_result}} <br><textarea></textarea></td>
        <td><b>ECAR:</b>
                    <br>Meas-3 range: 10-70mpH/min
                    <br>Meas-3 %CV: <20%
                    <br>Meas-3 to 6 drift: <20%
        </td>
        <td>
            <b>ECAR:</b> <br>Mean: {{lb_mean_ecar}} <br>StD: {{lb_std_ecar}} <br>%CV: {{lb_cv_ecar}}% <br>
            <b>ECAR Outliers:</b><br> {{lb_ecar_outliers}}
        </td>
        <td>{{lb_ecar_result}} <br><textarea></textarea></td>
        <td><b>ECAR:</b>
                    <br>Meas-3 range: 10-70pH/min
                    <br>Meas-3 %CV: <20%
        </td>
        <td>
            <b>ECAR:</b> <br>Mean: {{st_mean_ecar}} <br>StD: {{st_std_ecar}} <br>%CV: {{st_cv_ecar}}% <br>
            <b>ECAR Outliers:</b> <br>{{st_ecar_outliers}}<br>
            <b>Inj Outliers:</b>

        </td>
        <td>{{st_ecar_result}} <br><textarea></textarea></td>

    </tr>
    <tr>
        <th class="rotate" rowspan="2"><div><span>Level Data</span></div></th>
        <td><b>O2:</b>
                    <br>Range:152mmHg+/-10
                    <br>Drift/curl: <5 mmHg within measurement
                    <br>pop: <3 mmHg within measurement
        </td>
        <td>
            <b>O2 Range:</b> {{mr_o2_range}}
            <br><b>O2 Outliers:</b> {{mr_o2_outliers}}
        </td>
        <td>{{mr_o2_result}} <br><textarea></textarea></td>
        <td><b>O2:</b>
                    <br>Range:<20mmHg from each other
                    <br>Drift/curl: <5 mmHg within measurement
                    <br>pop: <3 mmHg within measurement
        </td>
        <td>
            <b>O2 Range:</b> {{lb_o2_range}}
            <br><b>O2 Outliers:</b> {{lb_o2_outliers}}
        </td>
        <td>{{lb_o2_result}} <br><textarea></textarea></td>
        <td><b>O2:</b>
                    <br>Range:<20mmHg from each other
                    <br>Drift/curl: <5 mmHg within measurement
                    <br>pop: <3 mmHg within measurement
        </td>
        <td>
            <b>O2 Range:</b> {{st_o2_range}}
            <br><b>O2 Outliers:</b> {{st_o2_outliers}}
        </td>
        <td>{{st_o2_result}} <br><textarea></textarea></td>

    </tr>
    <tr>
        <td><b>pH:</b>
                    <br>Range:7.4+/-0.2pH
                    <br>Drift/curl: <0.05 pH within measurement
                    <br>pop: <0.01 pH within measurement
        </td>
        <td>
            <b>pH Range:</b> {{mr_ph_range}}
            <br><b>pH Outliers:</b> {{mr_ph_outliers}}
        </td>
        <td>{{mr_ph_result}} <br><textarea></textarea></td>
        <td><b>pH:</b>
                    <br>Range:+/-0.2pH from each other
                    <br>Drift/curl: <0.05 pH within measurement
                    <br>pop: <0.01 pH within measurement
        </td>
        <td>
            <b>pH Range:</b> {{lb_ph_range}}
            <br><b>pH Outliers:</b> {{lb_ph_outliers}}
        </td>
        <td>{{lb_ph_result}} <br><textarea></textarea></td>
        <td><b>pH:</b>
                    <br>Range:+/-0.2pH from each other
                    <br>Drift/curl: <0.05 pH within measurement
                    <br>pop: <0.01 pH within measurement
        </td>
        <td>
            <b>pH Range:</b> {{st_ph_range}}
            <br><b>pH Outliers:</b> {{st_ph_outliers}}
        </td>
        <td>{{st_ph_result}} <br><textarea></textarea></td>

    </tr>
    <tr>
        <td> Note:</td>
        <th colspan="7">
            <textarea></textarea>
        </th>
        <td> Analyst Sign: </td>
        <td> <textarea></textarea></td>
    </tr>


</table>

{% if messages %}
<div id="modal1" class="modal">
    <div class="modal-content">
        {% for message in messages %}
        <p>{{ message }}</p>
        {% endfor %}
    </div>
    <div class="modal-footer">
        <a href="#!" class="modal-close waves-effect waves-black btn-flat">Ok</a>
    </div>
</div>
{% endif %}

</body>

{% if messages %}
<script>
    const elem = document.getElementById('modal1');
    const instance = M.Modal.init(elem, { dismissible: false });
    instance.open();


</script>
{% endif %}

</html>